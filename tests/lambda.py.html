<html><head><style type="text/css">
    .error.focus { background-color:IndianRed; }
    .error.comparable { background-color:IndianRed; }
    .error { background-color:Red; }
    .inconsistent { background-color:Orange; }
    .focus { background-color:LawnGreen; }
    .comparable { background-color:LimeGreen; }
  </style><script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script><script type="text/javascript">m = {"t8": ["t4", "t10", "t8"], "t9": ["t9", "t2"], "t6": ["t6", "t2"], "t7": ["t4", "t7"], "t4": ["t4", "t7", "t10", "t8"], "t5": ["t5", "t0"], "t2": ["t6", "t9", "t2"], "t3": ["t3"], "t0": ["t5", "t0"], "t1": ["t1"], "t10": ["t4", "t10", "t8"], "t11": ["t11"], "t12": ["t12"]};

e = ["t12"];

p = [["t11", "t6"]];


  $(document).ready(function() {
    $(allSelector(e)).addClass("error");
  });
  
  $(document).ready(function() {
    for(i in p)
    {
      $(allSelector(p[i])).addClass("inconsistent");
    }
  });
  
  // extracts the type from a code span
  getType = function(x){
    return $(x).attr("class").split(" ")[0];
  }
  
  // takes a list of classes, and returns a string that is a selector
  // for all of those classes
  allSelector = function(xs){
    if(xs.length < 1){
      return ""
    }
    xs_prime = []
    for(i in xs)
    {
      xs_prime[i] = "." + xs[i]
    }
    return xs_prime.join()
  }
  
  $(document).ready(function(){
    // for a term that has mouse movement, highlight all of the elements with a type that that appears in the map m for the type of that term
    $("span").mousemove(function(event){
      if(this == event.target){
        t = getType(this);
        if(t != "*"){
          $(allSelector(m[t])).addClass("comparable");
          $("." + t).addClass("focus");
        }
      }
    });
    
    $("span").mouseout(function(){
      t = getType(this);
      if(t != "*"){
        $("." + t).removeClass("focus");
        $(allSelector(m[t])).removeClass("comparable");
      }
    });
  });
  </script>
  </head><body>
  
  <pre><span title="*" class="*"><span title="*" class="*"><span title="t0" class="t0">f</span> = <span title="t5" class="t5">lambda <span title="t1" class="t1"><span title="t2" class="t2">x</span></span>: <span title="t4" class="t4">(<span title="t2" class="t2">x</span> * <span title="t3" class="t3">2</span>)</span></span></span></br><span title="*" class="*">None</span></br><span title="*" class="*"><span title="t8" class="t8">x</span> = <span title="t10" class="t10"><span title="t0" class="t0">f</span>(<span title="t9" class="t9">2</span>)</span></span></br><span title="*" class="*">None</span></br></span></pre>
  </body></html>